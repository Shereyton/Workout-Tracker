<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Workout Tracker — Progress Charts</title>
<link rel="stylesheet" href="style.css">
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:16px;background:linear-gradient(180deg,#6a77d7,#6b4fa0);}
  header{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#fff;}
  header a{text-decoration:none;color:#fff;font-size:14px;}
  h1{margin:0;font-size:28px;}
  .controls{display:flex;flex-wrap:wrap;gap:12px;margin:12px 0 16px;align-items:flex-end}
  .controls label{display:flex;flex-direction:column;font-size:14px;gap:4px;color:#fff}
  select{height:32px;border-radius:6px;border:0;padding:0 8px}
  #refreshBtn{height:36px;border-radius:10px;border:0;font-weight:700}
  #mainChart{max-width:100%;height:320px;background:#ffffff0f;border-radius:12px;padding:8px}
  .small-charts{display:flex;flex-direction:column;gap:16px;margin-top:24px}
  .small-charts canvas{flex:1;height:220px;background:#ffffff0f;border-radius:12px;padding:8px}
  @media(min-width:700px){.small-charts{flex-direction:row}}
  .note{font-size:12px;opacity:.85;margin-top:8px;color:#fff}
  .msg{font-size:14px;margin:12px 0;color:#fff;text-align:center}
</style>
</head>
<body>
<header>
  <a href="index.html">← Back</a>
  <h1>Progress Charts</h1>
</header>

<div id="sample-note" class="note" style="display:none;">Showing sample data (no local data found).</div>

<div class="controls">
  <label>Lift
    <select id="liftSelect">
      <option value="bench">Bench Press</option>
      <option value="squat">Squat</option>
      <option value="incline">Incline</option>
      <option value="deadlift">Deadlift</option>
    </select>
  </label>
  <label>Metric
    <select id="metricSelect">
      <option value="e1rm">Estimated 1RM</option>
      <option value="top">Top Set Weight</option>
      <option value="volume">Daily Volume (lbs)</option>
    </select>
  </label>
  <button id="refreshBtn" class="btn btn-secondary">Refresh</button>
  <button id="seedBtn" class="btn btn-secondary" style="height:32px;">Seed Sample</button>
  <script>
    document.getElementById('seedBtn').addEventListener('click', () => {
      localStorage.setItem('wt_history', JSON.stringify({
        "2024-08-25": ["Bench Press: 185 lbs × 5 reps","Squat: 225 lbs × 5 reps"],
        "2024-08-26": ["Bench Press: 190 lbs × 5 reps","Squat: 235 lbs × 5 reps"]
      }));
      alert('Seeded! Click Refresh above.');
    });
  </script>
</div>

<canvas id="mainChart"></canvas>
<div id="empty-message" class="msg" style="display:none;">No data for this lift.</div>
<div class="note">E1RM = estimated 1-rep max (Epley); Top Set = heaviest set; Volume = total lbs (weight × reps) per day.</div>

<div class="small-charts">
  <canvas id="benchChart"></canvas>
  <canvas id="squatChart"></canvas>
</div>

<!-- Chart.js + date adapter -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
<script src="charts.js?v=8"></script>
</body>
</html>
